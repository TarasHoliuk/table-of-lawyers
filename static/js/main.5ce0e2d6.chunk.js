(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{11:function(e,a,r){},12:function(e,a,r){},15:function(e,a,r){"use strict";r.r(a);var n=r(1),i=r.n(n),t=r(4),l=r.n(t),s=(r(11),r(2)),o=(r(12),r(0)),c=function(e){var a=e.uploadHandler,r=Object(n.useState)(),i=Object(s.a)(r,2),t=i[0],l=i[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"file is-info has-name",children:Object(o.jsxs)("label",{className:"file-label",children:[Object(o.jsx)("input",{type:"file",accept:".csv",className:"file-input",onChange:function(e){return function(e){var r;if(null===(r=e.target)||void 0===r?void 0:r.files){l(e.target.files[0]);var n=new FileReader;n.onload=function(e){var r,n=null===(r=e.target)||void 0===r?void 0:r.result;a(n)},e.target.files[0]&&n.readAsText(e.target.files[0])}}(e)}}),Object(o.jsxs)("span",{className:"file-cta",children:[Object(o.jsx)("span",{className:"file-icon",children:Object(o.jsx)("i",{className:"fas fa-upload"})}),Object(o.jsx)("span",{className:"file-label",children:"CSV file..."})]}),Object(o.jsx)("span",{className:"file-name",children:t?"".concat(t.name):"Choose the file"})]})})})},b=i.a.memo((function(e){var a=e.records;return Object(o.jsxs)("table",{className:"table is-bordered is-stripped is-hoverable",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"ID"}),Object(o.jsx)("th",{children:"Full Name"}),Object(o.jsx)("th",{children:"Phone"}),Object(o.jsx)("th",{children:"Email"}),Object(o.jsx)("th",{children:"Age"}),Object(o.jsx)("th",{children:"Experience"}),Object(o.jsx)("th",{children:"Yearly Income"}),Object(o.jsx)("th",{children:"Has children"}),Object(o.jsx)("th",{children:"License states"}),Object(o.jsx)("th",{children:"Expiration date"}),Object(o.jsx)("th",{children:"License number"}),Object(o.jsx)("th",{children:"Duplicated with"})]})}),Object(o.jsx)("tbody",{children:a.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.id}),Object(o.jsx)("td",{className:e.fullName.isValid?"":"has-background-danger",title:e.fullName.errorMessage,children:e.fullName.value}),Object(o.jsx)("td",{className:e.phone.isValid?"":"has-background-danger",title:e.phone.errorMessage,children:e.phone.value}),Object(o.jsx)("td",{className:e.email.isValid?"":"has-background-danger",title:e.email.errorMessage,children:e.email.value}),Object(o.jsx)("td",{className:e.age.isValid?"":"has-background-danger",title:e.age.errorMessage,children:e.age.value}),Object(o.jsx)("td",{className:e.experience.isValid?"":"has-background-danger",title:e.experience.errorMessage,children:e.experience.value}),Object(o.jsx)("td",{className:e.yearlyIncome.isValid?"":"has-background-danger",title:e.yearlyIncome.errorMessage,children:e.yearlyIncome.value}),Object(o.jsx)("td",{className:e.hasChildren.isValid?"":"has-background-danger",title:e.hasChildren.errorMessage,children:"string"===typeof e.hasChildren.value?e.hasChildren.value:e.hasChildren.value?"TRUE":"FALSE"}),Object(o.jsx)("td",{className:e.licenseStates.isValid?"":"has-background-danger",title:e.licenseStates.errorMessage,children:e.licenseStates.value}),Object(o.jsx)("td",{className:e.expirationDate.isValid?"":"has-background-danger",title:e.expirationDate.errorMessage,children:e.expirationDate.value}),Object(o.jsx)("td",{className:e.licenseNumber.isValid?"":"has-background-danger",title:e.licenseNumber.errorMessage,children:e.licenseNumber.value}),Object(o.jsx)("td",{className:e.duplicateWith?"has-background-danger":"",children:e.duplicateWith})]},e.id)}))})]})})),d=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],u=function(e){var a="",r=!1;return null===e||""===e?{errorLevel:"global",value:e,isValid:r,errorMessage:a}:(r=e.includes(" "),{value:e,errorMessage:a=r?"":"Full name should include at least two words",isValid:r,errorLevel:r?null:"local"})},v=function(e){var a="",r="",n=null,i=!1;if(null===e||""===e)return{errorLevel:"global",value:e,errorMessage:r,isValid:i};if(i=/^(\+1|\+)?([\d]{10,11}$)/.test(e))switch(e.length){case 10:a="+1".concat(e);break;case 11:a="+".concat(e);break;default:a=e}else a=e,r="Phone format is not valid",n="local";return{value:a,errorMessage:r,isValid:i,errorLevel:n}},h=function(e){var a=!1,r="";if(null===e||""===e)return{errorLevel:"global",value:e,errorMessage:r,isValid:a};return{value:e,errorMessage:r=(a=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e))?"":"Email is not valid",isValid:a,errorLevel:a?null:"local"}},m=function(e){var a="",r=Number.isInteger(e);a+=r?"":"Age should be integer ",a+=e>=0?"":"Age should be equal or more zero";var n=e>=21,i=r&&n;return{value:e,errorMessage:a+=n?"":"Lawyer should be adult",isValid:i,errorLevel:i?null:"local"}},j=function(e,a){var r="",n=e>=0;r+=n?"":"Experience should be equal or more zero ";var i=e<a,t=n&&i;return{value:e,errorMessage:r+=i?"":"Experience should be less than age",isValid:t,errorLevel:t?null:"local"}},f=function(e){var a=e>0;var r=e<=1e6,n=a&&r;return{errorMessage:r?"":"Yearly income should be equal or less than one million",value:+e.toFixed(2),isValid:n,errorLevel:n?null:"local"}},g=function(e){var a,r=!0,n="";if("string"===typeof e)switch(e){case"":r=!0,a=!1;break;case"TRUE":a=!0,r=!0;break;case"FALSE":r=!0,a=!1;break;default:r=!1,a=e,n="Value should be TRUE/FALSE or empty"}else a=e;return{value:a,errorMessage:n,isValid:r,errorLevel:r?null:"local"}},p=function(e){var a=e.split(" | "),r="",n=!0,i=a.map((function(e){var a=e.toLowerCase(),i=d.find((function(e){return e.name.toLowerCase()===a||e.abbreviation.toLowerCase()===a}));return i||(r="One of the states is not valid",n=!1),i?i.abbreviation:e})),t=n?null:"local";return{value:i.join(" | "),errorMessage:r,isValid:n,errorLevel:t}},x=function(e){var a="",r=/(^(((\d\d)(([02468][048])|([13579][26]))-02-29)|(((\d\d)(\d\d)))-((((0\d)|(1[0-2]))-((0\d)|(1\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30))))))/.test(e)||/(^((((0\d)|(1[0-2]))\/((0\d)|(1\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))\/(((\d\d)(([02468][048])|([13579][26]))-02-29)|(((\d\d)(\d\d))))/.test(e);a+=r?null:"Date format is not valid ";var n=(new Date).toDateString(),i=Date.parse(n)<Date.parse(e),t=r&&i;return{value:e,errorMessage:a+=i?"":"Expiration date is not valid",isValid:t,errorLevel:t?null:"local"}},O=function(e){var a=/^(([a-zA-Z]|[\d]){6})$/.test(e);return{value:e,errorMessage:a?"":"License number is not valid",isValid:a,errorLevel:a?null:"local"}},N="Invalid lawyers data",M=["id","fullName","phone","email","age","experience","yearlyIncome","hasChildren","licenseStates","expirationDate","licenseNumber","duplicateWith"],L="Table headers is not valid",y=r(5);var k=function(e,a){var r=function(e){var a=e.map((function(e){return e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(function(e,a){return 0===+e?"":0===a?e.toLowerCase():e.toUpperCase()}))}));return a.unshift("id"),a.push("duplicateWith"),a}(e),n=1;return function(e,a){return a.map((function(a){return a.reduce((function(a,r,n){var i=e[n];return Object.assign(a,Object(y.a)({},i,r)),a}),{})}))}(r,a.map((function(e){var a=e.map((function(e){return"string"===typeof e&&e.trim(),e}));return a.unshift(n),a.push(null),n+=1,a})))},w=r(6),C=r.n(w),V={dynamicTyping:!0},I=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),r=a[0],i=a[1],t=Object(n.useState)(!1),l=Object(s.a)(t,2),d=l[0],y=l[1],w=Object(n.useState)(0),I=Object(s.a)(w,2),A=I[0],S=I[1],D=Object(n.useState)(!1),E=Object(s.a)(D,2),W=E[0],T=E[1];return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"App mt-6 is-flex is-flex-direction-column ",children:[Object(o.jsx)("h1",{className:"title is-3 has-text-centered m-3",children:"Lawyer table validator"}),Object(o.jsx)(c,{uploadHandler:function(e){var a=function(e){var a=C.a.parse(e,V).data;return{headers:a.shift(),records:a}}(e),r=a.headers,n=a.records,t=k(r,n);try{!function(e){if(console.log(e),!e.every((function(e){return M.includes(e)})))throw new Error(L)}(Object.keys(t[0])),y(!1)}catch(c){if(c!==L)throw c;T(!0),y(!0)}try{var l=function(e){var a=0,r=e.map((function(e){var r={};for(var n in e)switch(n){case"fullName":if(r.fullName=u(e.fullName),"global"===r.fullName.errorLevel)throw new Error(N);"local"===r.fullName.errorLevel&&(a+=1);break;case"phone":if(r.phone=v(e.phone),"global"===r.phone.errorLevel)throw new Error(N);"local"===r.phone.errorLevel&&(a+=1);break;case"email":if(r.email=h(e.email),"global"===r.email.errorLevel)throw new Error(N);"local"===r.email.errorLevel&&(a+=1);break;case"age":r.age=m(e.age),"local"===r.age.errorLevel&&(a+=1);break;case"experience":r.experience=j(e.experience,e.age),"local"===r.experience.errorLevel&&(a+=1);break;case"yearlyIncome":r.yearlyIncome=f(e.yearlyIncome),"local"===r.yearlyIncome.errorLevel&&(a+=1);break;case"hasChildren":r.hasChildren=g(e.hasChildren),"local"===r.hasChildren.errorLevel&&(a+=1);break;case"licenseStates":r.licenseStates=p(e.licenseStates),"local"===r.licenseStates.errorLevel&&(a+=1);break;case"expirationDate":r.expirationDate=x(e.expirationDate),"local"===r.expirationDate.errorLevel&&(a+=1);break;case"licenseNumber":r.licenseNumber=O(e.licenseNumber),"local"===r.licenseNumber.errorLevel&&(a+=1);break;case"id":r.id=e.id;break;case"duplicateWith":r.duplicateWith=e.duplicateWith}return r}));return{validatedData:r=function(e){var a=null;return e.map((function(r){return(a=e.find((function(e){return(e.phone.value===r.phone.value||e.email.value.toLowerCase()===r.email.value.toLowerCase())&&e.id!==r.id})))&&(r.duplicateWith=a.id),r}))}(r),errorsCounter:a}}(t),s=l.validatedData,o=l.errorsCounter;S(o),y(!1),i(s)}catch(c){if(c!==N)throw c;y(!0)}}}),A&&Object(o.jsx)("span",{className:"m-2 has-text-danger",children:"Number of errors: ".concat(A)}),d?Object(o.jsx)("div",{children:W?L:N}):r.length>0&&Object(o.jsx)(b,{records:r})]})})};r(14);l.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(I,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.5ce0e2d6.chunk.js.map